import{d as w,k as g,r as m,m as x,c,e as p,b as e,n as V,q as k,l as a,v as r,i as v,f as q,u as C,F as N,h as u,R as S,p as U,j as R}from"./index-BpL7-i3_.js";import{N as z,_ as D}from"./NavbarComponent-i5wyMNxL.js";import{a as P}from"./users-aWpIykpl.js";const l=d=>(U("data-v-8d15ba07"),d=d(),R(),d),Z={class:"text-white"},M={class:"row g-0",style:{height:"calc(100dvh - 120px)"}},I=l(()=>e("div",{class:"col-6 d-none d-lg-block"},[e("div",{class:"login-bg"})],-1)),T={class:"col-12 col-lg-6 bg-dark d-flex justify-content-center align-items-center title-deco-bg-line"},Y={class:"w-75 p-5"},$={key:0,class:"text-primary mb-2 fs-6"},B=l(()=>e("h2",{class:"mb-4 subtitle"},"立即註冊",-1)),F={class:"row mb-5"},j=l(()=>e("div",{class:"col-4 text-center"},[e("span",{class:"step-bg step-bg-active"},"1"),e("span",null,"輸入信箱及密碼")],-1)),A=l(()=>e("div",{class:"col-4 text-secondary step-line"},null,-1)),E={class:"col-4 text-center text-secondary"},G=l(()=>e("span",null,"填寫基本資料",-1)),H={key:1},L={class:"mb-3"},J=l(()=>e("label",{for:"email",class:"form-label"},"電子信箱",-1)),K={class:"mb-3"},O=l(()=>e("label",{for:"password",class:"form-label"},"密碼",-1)),Q={class:"mb-5"},W=l(()=>e("label",{for:"confirmPassword",class:"form-label"},"確認密碼",-1)),X={key:2},ee={class:"mb-3"},se=l(()=>e("label",{for:"name",class:"form-label"},"姓名",-1)),oe={class:"mb-3"},te=l(()=>e("label",{for:"phone",class:"form-label"},"手機號碼",-1)),le={class:"mb-3"},ae=l(()=>e("label",{for:"birth_year",class:"form-label"},"生日",-1)),re={class:"d-flex"},ne={class:"mb-3"},de=l(()=>e("label",{for:"address",class:"form-label"},"地址",-1)),ie={class:"d-flex mb-2"},ce=l(()=>e("div",{class:"mb-5"},[e("input",{type:"checkbox",class:"form-check-input",id:"agree"}),e("label",{class:"form-check-label",for:"agree"},"我已閱讀並同意本網站個資使用規範")],-1)),ue=w({__name:"RegisterView",setup(d){const b=g(),i=m(1),s=m({email:"",password:"",confirmPassword:"",name:"",phone:"",bornYear:void 0,bornMonth:void 0,bornDay:void 0,address:{zipcode:void 0,city:"",country:"",detail:""}}),_=n=>{if(n.preventDefault(),s.value.email==""){alert("請填寫Email");return}if(!s.value.password.match(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)){alert("密碼至少 8 碼以上，須包含英文字母和數字");return}if(s.value.password!==s.value.confirmPassword){alert("密碼與確認密碼不同");return}i.value=2},h=()=>{s.value.birthday=`${s.value.bornYear}/${s.value.bornMonth}/${s.value.bornDay}`,P(s.value).then(()=>{alert("已完成註冊"),b.push("/login")}).catch(n=>{alert(n.response.data.message)})},f=n=>{s.value.address.zipcode=Number(n.value.zipCode),s.value.address.city=n.value.countryName,s.value.address.country=n.value.name};return(n,o)=>{const y=x("VueTwZipCodeSelector");return u(),c(N,null,[p(z),e("div",Z,[e("div",M,[I,e("div",T,[e("form",Y,[i.value===1?(u(),c("span",$," 享樂酒店，誠摯歡迎")):V("",!0),B,e("div",F,[j,A,e("div",E,[e("span",{class:k(["step-bg",i.value===2?"step-bg-active":"none"])},"2",2),G])]),i.value===1?(u(),c("div",H,[e("div",L,[J,a(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.value.email=t),type:"email",class:"form-control mb-3",id:"email","aria-describedby":"emailHelp",placeholder:"hello@exsample.com",required:""},null,512),[[r,s.value.email]])]),e("div",K,[O,a(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s.value.password=t),type:"password",class:"form-control",id:"password",placeholder:"請輸入密碼",required:""},null,512),[[r,s.value.password]])]),e("div",Q,[W,a(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>s.value.confirmPassword=t),type:"password",class:"form-control",id:"confirmPassword",placeholder:"請再輸入一次密碼",required:""},null,512),[[r,s.value.confirmPassword]])]),e("button",{class:"btn w-100 p-3 mb-5 light-btn",onClick:_}," 下一步 ")])):(u(),c("div",X,[e("div",ee,[se,a(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>s.value.name=t),type:"text",class:"form-control mb-3",id:"name",placeholder:"請輸入姓名",required:""},null,512),[[r,s.value.name]])]),e("div",oe,[te,a(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>s.value.phone=t),type:"text",class:"form-control",id:"phone",placeholder:"請輸入手機號碼",required:""},null,512),[[r,s.value.phone]])]),e("div",le,[ae,e("div",re,[a(e("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>s.value.bornYear=t),type:"text",class:"form-control me-2",id:"birth_year",placeholder:"1990年",required:""},null,512),[[r,s.value.bornYear]]),a(e("input",{"onUpdate:modelValue":o[6]||(o[6]=t=>s.value.bornMonth=t),type:"text",class:"form-control me-2",placeholder:"8月",required:""},null,512),[[r,s.value.bornMonth]]),a(e("input",{"onUpdate:modelValue":o[7]||(o[7]=t=>s.value.bornDay=t),type:"text",class:"form-control",placeholder:"15日",required:""},null,512),[[r,s.value.bornDay]])])]),e("div",ne,[de,e("div",ie,[p(y,{onGetSelectedZone:f})]),a(e("input",{"onUpdate:modelValue":o[8]||(o[8]=t=>s.value.address.detail=t),type:"text",class:"form-control me-2",placeholder:"請輸入詳細地址"},null,512),[[r,s.value.address.detail]])]),ce,e("button",{type:"submit",class:"btn btn-primary w-100 p-3 mb-5 text-white",onClick:h}," 完成註冊 ")])),e("p",null,[v("已經有會員了嗎? "),p(C(S),{to:"/login",class:"text-primary"},{default:q(()=>[v("立即登入")]),_:1})])])])])])],64)}}}),be=D(ue,[["__scopeId","data-v-8d15ba07"]]);export{be as default};
